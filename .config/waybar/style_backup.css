* {
    font-family: "SF Pro Display", "JetBrainsMono Nerd Font Propo", sans-serif;
    font-size: 17px;
    border-radius: 14px;
    font-weight: bold;
}

window#waybar {
    background-color: transparent;
    color: #c3c4c4;
    border-radius: 16px;
    box-shadow: none;
    padding-top: 8px;
    padding-bottom: 8px;
}

.modules-right {
    margin-right: 12px;
}

/* Workspaces ultra-dynamiques avec alertes */
#workspaces {
    background: linear-gradient(135deg, rgba(18,21,22, 0.95), rgba(18,21,22, 0.85));
    padding: 12px 28px;
    margin: 0 20px 0 20px;
    border: none;
    border-radius: 30px;
    box-shadow: 
        0 10px 40px rgba(18,21,22, 0.7),
        inset 0 2px 0 rgba(195,196,196, 0.2),
        0 0 0 2px rgba(127,155,193, 0.15),
        0 0 30px rgba(127,155,193, 0.1);
    transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    color: #c3c4c4;
    position: relative;
    overflow: hidden;
    animation: workspace-container-breathe 4s ease-in-out infinite;
}

#workspaces::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: conic-gradient(from 0deg, 
        transparent, 
        rgba(127,155,193, 0.15), 
        rgba(116,137,158, 0.1),
        rgba(127,155,193, 0.15), 
        transparent);
    animation: workspace-rotate 6s linear infinite;
    opacity: 0;
    transition: opacity 0.4s ease;
}

#workspaces::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: 30px;
    background: linear-gradient(45deg, 
        transparent 30%, 
        rgba(127,155,193, 0.05) 50%, 
        transparent 70%);
    animation: workspace-shimmer 3s ease-in-out infinite;
    opacity: 0;
}

#workspaces:hover::before {
    opacity: 1;
}

#workspaces:hover::after {
    opacity: 1;
}

#workspaces:hover {
    box-shadow: 
        0 15px 60px rgba(18,21,22, 0.8),
        inset 0 3px 0 rgba(195,196,196, 0.3),
        0 0 0 3px rgba(127,155,193, 0.4),
        0 0 40px rgba(127,155,193, 0.3),
        0 0 80px rgba(127,155,193, 0.1);
    transform: translateY(-4px) scale(1.03);
    background: linear-gradient(135deg, rgba(18,21,22, 0.98), rgba(18,21,22, 0.92));
    animation: workspace-container-hover 2s ease-in-out infinite;
}

#workspaces button {
    background: linear-gradient(145deg, rgba(18,21,22, 0.5), rgba(18,21,22, 0.3));
    color: #c3c4c4;
    font-size: 1.2em;
    font-weight: 700;
    padding: 10px 16px;
    margin: 0 6px;
    border: 2px solid rgba(195,196,196, 0.2);
    border-radius: 20px;
    box-shadow: 
        0 6px 18px rgba(18,21,22, 0.4),
        inset 0 2px 0 rgba(195,196,196, 0.15),
        0 0 0 1px rgba(127,155,193, 0.1);
    opacity: 0.8;
    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative;
    overflow: hidden;
    transform: scale(0.92);
    animation: workspace-button-idle 3s ease-in-out infinite;
}

#workspaces button::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(127,155,193, 0.3), transparent);
    transition: left 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

#workspaces button::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: radial-gradient(circle, rgba(127,155,193, 0.4) 0%, transparent 70%);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    transition: all 0.3s ease;
    opacity: 0;
}

#workspaces button:hover::before {
    left: 100%;
}

#workspaces button:active::after {
    width: 50px;
    height: 50px;
    opacity: 1;
    transition: all 0.1s ease;
}

#workspaces button.active {
    background: linear-gradient(145deg, rgba(127,155,193, 0.4), rgba(127,155,193, 0.25));
    color: #7F9BC1;
    border: 3px solid #7F9BC1;
    box-shadow: 
        0 12px 36px rgba(127,155,193, 0.6),
        inset 0 3px 0 rgba(127,155,193, 0.5),
        0 0 50px rgba(127,155,193, 0.4),
        0 0 0 5px rgba(127,155,193, 0.2),
        0 0 100px rgba(127,155,193, 0.1);
    opacity: 1;
    font-weight: 800;
    transform: scale(1.2) translateY(-3px);
    animation: 
        workspace-active-mega-glow 2.5s ease-in-out infinite,
        workspace-active-mega-bounce 1.8s ease-in-out infinite,
        workspace-active-rainbow 8s linear infinite,
        workspace-active-pulse-ring 3s ease-in-out infinite;
    text-shadow: 
        0 0 15px rgba(127,155,193, 1),
        0 0 30px rgba(127,155,193, 0.6),
        0 0 45px rgba(127,155,193, 0.3);
    filter: brightness(1.3) saturate(1.2);
}

#workspaces button:hover {
    background: linear-gradient(145deg, rgba(127,155,193, 0.25), rgba(127,155,193, 0.15));
    color: #7F9BC1;
    border: 2px solid rgba(127,155,193, 0.8);
    box-shadow: 
        0 8px 28px rgba(127,155,193, 0.4),
        inset 0 2px 0 rgba(127,155,193, 0.3),
        0 0 25px rgba(127,155,193, 0.3),
        0 0 50px rgba(127,155,193, 0.15);
    opacity: 1;
    transform: translateY(-4px) scale(1.08);
    text-shadow: 
        0 0 12px rgba(127,155,193, 0.8),
        0 0 24px rgba(127,155,193, 0.4);
    animation: 
        workspace-hover-mega-pulse 1.2s ease-in-out infinite,
        workspace-hover-float 2s ease-in-out infinite;
}

#workspaces button.urgent {
    color: #5C7085;
    background: linear-gradient(145deg, rgba(92,112,133, 0.5), rgba(92,112,133, 0.4));
    border: 3px solid #5C7085;
    box-shadow: 
        0 8px 24px rgba(92,112,133, 0.6),
        0 0 40px rgba(92,112,133, 0.5),
        0 0 0 3px rgba(92,112,133, 0.3);
    animation: 
        workspace-urgent-mega-shake 0.3s ease-in-out infinite,
        workspace-urgent-mega-glow 1.5s ease-in-out infinite,
        workspace-urgent-flash 0.8s ease-in-out infinite;
    transform: scale(1.15);
    text-shadow: 
        0 0 18px rgba(92,112,133, 1),
        0 0 36px rgba(92,112,133, 0.6);
    filter: brightness(1.4);
}

#workspaces button.visible {
    color: #7F9BC1;
    background: linear-gradient(145deg, rgba(127,155,193, 0.2), rgba(127,155,193, 0.15));
    border: 2px solid rgba(127,155,193, 0.5);
    box-shadow: 
        0 6px 16px rgba(127,155,193, 0.3),
        0 0 20px rgba(127,155,193, 0.2),
        inset 0 1px 0 rgba(127,155,193, 0.2);
    opacity: 0.95;
    transform: scale(1.05);
    animation: 
        workspace-visible-mega-breathe 2.5s ease-in-out infinite,
        workspace-visible-glow 4s ease-in-out infinite;
    text-shadow: 0 0 8px rgba(127,155,193, 0.6);
}

#workspaces button.empty {
    color: #c3c4c4;
    opacity: 0.25;
    transform: scale(0.8);
    filter: grayscale(0.7) brightness(0.8);
    animation: workspace-empty-mega-fade 5s ease-in-out infinite;
    transition: all 0.6s ease;
}

/* Nouvelle classe pour alertes de nouveaux workspaces */
#workspaces button.has-windows {
    animation: 
        workspace-new-alert 3s ease-in-out,
        workspace-visible-mega-breathe 2.5s ease-in-out infinite 3s;
    border: 2px solid rgba(116,137,158, 0.6) !important;
    box-shadow: 
        0 6px 16px rgba(116,137,158, 0.4),
        0 0 30px rgba(116,137,158, 0.3) !important;
}

/* Animations ultra-dynamiques */
@keyframes workspace-container-breathe {
    0%, 100% { 
        transform: scale(1);
        box-shadow: 
            0 10px 40px rgba(18,21,22, 0.7),
            inset 0 2px 0 rgba(195,196,196, 0.2),
            0 0 0 2px rgba(127,155,193, 0.15),
            0 0 30px rgba(127,155,193, 0.1);
    }
    50% { 
        transform: scale(1.01);
        box-shadow: 
            0 12px 48px rgba(18,21,22, 0.8),
            inset 0 3px 0 rgba(195,196,196, 0.25),
            0 0 0 3px rgba(127,155,193, 0.2),
            0 0 40px rgba(127,155,193, 0.15);
    }
}

@keyframes workspace-container-hover {
    0%, 100% { filter: brightness(1); }
    50% { filter: brightness(1.05); }
}

@keyframes workspace-rotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

@keyframes workspace-shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

@keyframes workspace-button-idle {
    0%, 100% { 
        transform: scale(0.92);
        opacity: 0.8;
    }
    50% { 
        transform: scale(0.94);
        opacity: 0.85;
    }
}

@keyframes workspace-active-mega-glow {
    0%, 100% { 
        box-shadow: 
            0 12px 36px rgba(127,155,193, 0.6),
            inset 0 3px 0 rgba(127,155,193, 0.5),
            0 0 50px rgba(127,155,193, 0.4),
            0 0 0 5px rgba(127,155,193, 0.2),
            0 0 100px rgba(127,155,193, 0.1);
    }
    50% { 
        box-shadow: 
            0 16px 48px rgba(127,155,193, 0.8),
            inset 0 4px 0 rgba(127,155,193, 0.7),
            0 0 80px rgba(127,155,193, 0.6),
            0 0 0 8px rgba(127,155,193, 0.3),
            0 0 150px rgba(127,155,193, 0.2);
    }
}

@keyframes workspace-active-mega-bounce {
    0%, 100% { transform: scale(1.2) translateY(-3px); }
    50% { transform: scale(1.25) translateY(-5px); }
}

@keyframes workspace-active-rainbow {
    0% { filter: brightness(1.3) saturate(1.2) hue-rotate(0deg); }
    25% { filter: brightness(1.35) saturate(1.3) hue-rotate(5deg); }
    50% { filter: brightness(1.4) saturate(1.4) hue-rotate(0deg); }
    75% { filter: brightness(1.35) saturate(1.3) hue-rotate(-5deg); }
    100% { filter: brightness(1.3) saturate(1.2) hue-rotate(0deg); }
}

@keyframes workspace-active-pulse-ring {
    0% { 
        box-shadow: 
            0 12px 36px rgba(127,155,193, 0.6),
            inset 0 3px 0 rgba(127,155,193, 0.5),
            0 0 50px rgba(127,155,193, 0.4),
            0 0 0 5px rgba(127,155,193, 0.2),
            0 0 100px rgba(127,155,193, 0.1);
    }
    50% { 
        box-shadow: 
            0 12px 36px rgba(127,155,193, 0.6),
            inset 0 3px 0 rgba(127,155,193, 0.5),
            0 0 50px rgba(127,155,193, 0.4),
            0 0 0 10px rgba(127,155,193, 0.4),
            0 0 100px rgba(127,155,193, 0.1);
    }
    100% { 
        box-shadow: 
            0 12px 36px rgba(127,155,193, 0.6),
            inset 0 3px 0 rgba(127,155,193, 0.5),
            0 0 50px rgba(127,155,193, 0.4),
            0 0 0 15px rgba(127,155,193, 0.1),
            0 0 100px rgba(127,155,193, 0.1);
    }
}

@keyframes workspace-hover-mega-pulse {
    0%, 100% { 
        transform: translateY(-4px) scale(1.08);
        filter: brightness(1);
    }
    50% { 
        transform: translateY(-5px) scale(1.1);
        filter: brightness(1.1);
    }
}

@keyframes workspace-hover-float {
    0%, 100% { transform: translateY(-4px) scale(1.08) rotate(0deg); }
    50% { transform: translateY(-6px) scale(1.08) rotate(1deg); }
}

@keyframes workspace-urgent-mega-shake {
    0%, 100% { transform: scale(1.15) translateX(0) rotate(0deg); }
    25% { transform: scale(1.15) translateX(-3px) rotate(-1deg); }
    75% { transform: scale(1.15) translateX(3px) rotate(1deg); }
}

@keyframes workspace-urgent-mega-glow {
    0%, 100% { 
        box-shadow: 
            0 8px 24px rgba(92,112,133, 0.6),
            0 0 40px rgba(92,112,133, 0.5),
            0 0 0 3px rgba(92,112,133, 0.3);
    }
    50% { 
        box-shadow: 
            0 12px 36px rgba(92,112,133, 0.8),
            0 0 60px rgba(92,112,133, 0.7),
            0 0 0 6px rgba(92,112,133, 0.5);
    }
}

@keyframes workspace-urgent-flash {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

@keyframes workspace-visible-mega-breathe {
    0%, 100% { 
        transform: scale(1.05);
        opacity: 0.95;
    }
    50% { 
        transform: scale(1.08);
        opacity: 1;
    }
}

@keyframes workspace-visible-glow {
    0%, 100% { 
        box-shadow: 
            0 6px 16px rgba(127,155,193, 0.3),
            0 0 20px rgba(127,155,193, 0.2),
            inset 0 1px 0 rgba(127,155,193, 0.2);
    }
    50% { 
        box-shadow: 
            0 8px 20px rgba(127,155,193, 0.4),
            0 0 30px rgba(127,155,193, 0.3),
            inset 0 2px 0 rgba(127,155,193, 0.3);
    }
}

@keyframes workspace-empty-mega-fade {
    0%, 100% { 
        opacity: 0.25;
        transform: scale(0.8);
    }
    50% { 
        opacity: 0.1;
        transform: scale(0.75);
    }
}

@keyframes workspace-new-alert {
    0% { 
        transform: scale(0.8);
        opacity: 0.5;
        box-shadow: 0 0 0 0 rgba(116,137,158, 0.8);
    }
    25% { 
        transform: scale(1.2);
        opacity: 1;
        box-shadow: 0 0 0 10px rgba(116,137,158, 0.4);
    }
    50% { 
        transform: scale(1.1);
        box-shadow: 0 0 0 20px rgba(116,137,158, 0.2);
    }
    100% { 
        transform: scale(1.05);
        opacity: 0.95;
        box-shadow: 0 0 0 0 rgba(116,137,158, 0);
    }
}

/* Optimisations des performances */
#workspaces,
#workspaces button {
    will-change: transform, opacity, box-shadow, filter;
}

#workspaces {
    contain: layout style paint;
}

#workspaces button {
    contain: layout style;
}

/* Autres modules - styles conserv√©s avec couleurs pywal16 */
#group-clock_drawer,
#group-processes_tray,
#group-arch_drawer {
    color: #c3c4c4;
    background: rgba(18,21,22, 0.9);
    padding: 5px 16px;
    margin: 0 12px 0 0;
    border: 2px solid transparent;
    border-radius: 16px;
    box-shadow: 0 2px 6px rgba(18,21,22, 0.2);
    transition: all 0.2s;
}

#group-clock_drawer:hover,
#group-processes_tray:hover,
#group-arch_drawer:hover {
    background: rgba(195,196,196, 0.15);
    color: #7F9BC1;
    border: 2px solid #7F9BC1;
    box-shadow: 0 4px 15px rgba(18,21,22, 0.4);
}

#battery,
#pulseaudio,
#backlight,
#custom-keyboard-backlight,
#custom-numlock,
#custom-pacman,
#network,
#clock,
#custom-media,
#window,
#cpu,
#memory,
#disk,
#tray,
#custom-launcher,
#custom-notification,
#power-profiles-daemon,
#bluetooth,
#custom-usb_drives,
#custom-archlogo,
#custom-processes,
#custom-date_fr,
#custom-lock-session,
#custom-reboot,
#custom-poweroff,
#custom-storage {
    color: #c3c4c4;
    background: rgba(18,21,22, 0.9);
    padding: 5px 16px;
    margin: 0 0 0 12px;
    border-radius: 16px;
    box-shadow: 0 2px 6px rgba(18,21,22, 0.2);
    transition: all 0.2s;
    border: 2px solid transparent;
}

#battery:hover,
#pulseaudio:hover,
#backlight:hover,
#custom-keyboard-backlight:hover,
#custom-numlock:hover,
#custom-pacman:hover,
#network:hover,
#clock:hover,
#custom-media:hover,
#window:hover,
#cpu:hover,
#memory:hover,
#disk:hover,
#tray:hover,
#custom-launcher:hover,
#custom-notification:hover,
#power-profiles-daemon:hover,
#bluetooth:hover,
#custom-usb_drives:hover,
#custom-archlogo:hover,
#custom-processes:hover,
#custom-date_fr:hover,
#custom-lock-session:hover,
#custom-reboot:hover,
#custom-poweroff:hover,
#custom-storage:hover {
    background: #7F9BC1;
    color: #121516;
    border: 2px solid #7F9BC1;
    box-shadow: 0 4px 15px rgba(127,155,193, 0.4);
}

#battery {
    transition: all 0.3s ease;
    color: #c3c4c4;
}

#battery.warning {
    color: #74899E;
    animation: battery-pulse 2s infinite;
}

#battery.critical,
#battery.very_critical,
#battery.extreme {
    color: #ff4444;
    animation: battery-critical 1.5s infinite;
    border: 2px solid #ff4444;
}

@keyframes battery-pulse {
    0% { opacity: 1; }
    50% { opacity: 0.7; }
    100% { opacity: 1; }
}

@keyframes battery-critical {
    0% { 
        color: #ff4444;
        border-color: #ff4444;
    }
    50% { 
        color: #ff6666;
        border-color: #ff6666;
    }
    100% { 
        color: #ff4444;
        border-color: #ff4444;
    }
}

#custom-mic_status {
    color: #c3c4c4;
    background: rgba(18,21,22, 0.9);
    padding: 5px 16px;
    margin: 0 0 0 12px;
    border-radius: 16px;
    box-shadow: 0 2px 6px rgba(18,21,22, 0.2);
    transition: all 0.2s;
    border: 2px solid transparent;
}

#custom-mic_status:hover {
    background: #7F9BC1;
    color: #121516;
    border: 2px solid #7F9BC1;
    box-shadow: 0 4px 15px rgba(127,155,193, 0.4);
}

#custom-usb_drives.no-usb {
    opacity: 0.5;
    color: #c3c4c4;
}

#custom-usb_drives.usb-connected {
    color: #c3c4c4;
    border: 1px solid rgba(127,155,193, 0.3);
}

#custom-usb_drives.usb-many {
    color: #c3c4c4;
    border: 1px solid rgba(116,137,158, 0.3);
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { opacity: 1; }
    50% { opacity: 0.7; }
    100% { opacity: 1; }
}
