################################################################################
###                         APPARENCE VISUELLE                              ###
################################################################################
# Configuration de l'apparence : décorations, animations, effets visuels
# Documentation : https://wiki.hyprland.org/Configuring/Variables/
################################################################################

# ═══════════════════════════════════════════════════════════════════════════════
#  DÉCORATIONS DES FENÊTRES
# ═══════════════════════════════════════════════════════════════════════════════
decoration {
    # Coins arrondis pour un look moderne
    rounding = 10
      
    # Gestion de la transparence
    active_opacity = 1.0      # Fenêtres actives : opaque
    inactive_opacity = 0.95   # Fenêtres inactives : légèrement transparentes
    
    
    # Configuration des ombres
    shadow {
        enabled = true
        range = 8                    # Portée de l'ombre
        render_power = 4             # Qualité du rendu
        color = rgba(0a0a0aee)       # Couleur sombre avec transparence
    }
    
    # Effets de flou pour les fenêtres transparentes
    blur {
        enabled = true
        size = 16                    # Taille du flou
        passes = 3                   # Nombre de passes pour la qualité
        vibrancy = 0.3               # Intensité de l'effet de vibrance
        noise = 0.0117               # Bruit pour réduire les artefacts
        contrast = 0.8916            # Contraste du flou
        brightness = 0.8172          # Luminosité du flou
    }
}

# ═══════════════════════════════════════════════════════════════════════════════
#  ANIMATIONS FLUIDES ET OPTIMISÉES
# ═══════════════════════════════════════════════════════════════════════════════
animations {
    enabled = 1
    
    # Animations d'ouverture/fermeture des fenêtres (optimisées pour la performance)
    animation = windows,     1, 5, default, slide bottom   # Ouverture depuis le bas
    animation = windowsOut,  1, 4, default, slide top      # Fermeture vers le haut
    
    # Animation de changement d'espace de travail
    animation = workspaces,  1, 6, default, slidefade      # Glissement avec fondu
    
    # Animations des bordures et effets
    animation = border,      1, 3, default                 # Bordures animées
    animation = borderangle, 1, 8, default                 # Angles des bordures
    animation = fade,        1, 4, default                 # Fondu général
    animation = fadeDim,     1, 4, default                 # Fondu avec assombrissement
}

# ═══════════════════════════════════════════════════════════════════════════════
#  PARAMÈTRES GÉNÉRAUX ET OPTIMISATIONS
# ═══════════════════════════════════════════════════════════════════════════════
misc {
    # Désactive le fond d'écran par défaut de Hyprland
    force_default_wallpaper = 0
    
    # Masque le logo animé au démarrage
    disable_hyprland_logo = true
}

# ═══════════════════════════════════════════════════════════════════════════════
#  CONFIGURATION DU LAYOUT DWINDLE (TILING AUTOMATIQUE)
# ═══════════════════════════════════════════════════════════════════════════════
dwindle {
    pseudotile = true              # Permet le redimensionnement sans quitter le tiling
    preserve_split = true          # Conserve la division après fermeture d'une fenêtre
    smart_split = false            # Division manuelle (pas automatique)
    smart_resizing = true          # Redimensionnement intelligent
    force_split = 2                # Force la direction de division
}

# ═══════════════════════════════════════════════════════════════════════════════
# CONFIGURATION DU LAYOUT MASTER (FENÊTRE PRINCIPALE)
# ═══════════════════════════════════════════════════════════════════════════════
master {
    new_status = master            # Nouvelles fenêtres s'ouvrent comme master
    orientation = left             # Master à gauche, autres à droite
    mfact = 0.55                   # 55% de l'espace pour la fenêtre master
}

# ═══════════════════════════════════════════════════════════════════════════════
# CONFIGURATION GÉNÉRALE (GAPS, BORDURES, COULEURS)
# ═══════════════════════════════════════════════════════════════════════════════

# Couleurs générées automatiquement par pywal
# Généré le lun. 13 oct. 2025 10:51:13 CEST
# Wallpaper source: /home/sabi/Images/wallpapers/pastel-window.png

general {
    gaps_in = 5
    gaps_out = 10
    border_size = 3
    
    # Dégradé simple : côté primaire vers côté secondaire
    col.active_border = rgba(162,59,48,1.0) rgba(219,105,76,1.0) 45deg
    col.inactive_border = rgba(20,29,46,0.8)
    
    resize_on_border = false
    allow_tearing = false
    layout = dwindle
}
