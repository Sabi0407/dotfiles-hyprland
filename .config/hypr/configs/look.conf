################################################################################
###                         APPARENCE VISUELLE                              ###
################################################################################
# Configuration de l'apparence : décorations, animations, effets visuels
# Documentation : https://wiki.hyprland.org/Configuring/Variables/
################################################################################

# ═══════════════════════════════════════════════════════════════════════════════
#  DÉCORATIONS DES FENÊTRES
# ═══════════════════════════════════════════════════════════════════════════════
decoration {
    # Coins arrondis pour un look moderne
    rounding = 12
      
    # Gestion de la transparence (plus fluide)
    active_opacity = 1.0      # Fenêtres actives : opaque
    inactive_opacity = 1.0    # Fenêtres inactives : opaque
    
    # Transition de transparence fluide
    dim_inactive = false      # Assombrit les fenêtres inactives
    dim_strength = 0.0        # Force de l'assombrissement
    
    # Configuration des ombres (plus dramatiques)
    shadow {
        enabled = false              # Désactive l'ombre noire autour des fenêtres
        range = 12                   # Portée conservée au cas où on réactive
        render_power = 5             # Qualité du rendu
        color = rgba(0a0a0a44)       # Teinte légère si l'on réactive l'ombre
    }
    
    # Effets de flou pour les fenêtres transparentes (plus sophistiqué)
    blur {
        enabled = true
        size = 20                    # Taille du flou augmentée
        passes = 4                   # Nombre de passes pour la qualité
        vibrancy = 0.4               # Intensité de l'effet de vibrance
        noise = 0.008                # Bruit réduit pour plus de netteté
        contrast = 0.9               # Contraste du flou
        brightness = 0.8             # Luminosité du flou
        new_optimizations = true     # Optimisations récentes
        popups = true                # Autorise le flou pour les surfaces layer/popups (ex: wlogout)
        popups_ignorealpha = 0.15    # Ratio d'alpha ignoré pour garder un fond visible
    }
}

# ═══════════════════════════════════════════════════════════════════════════════
#  ANIMATIONS FLUIDES ET OPTIMISÉES
# ═══════════════════════════════════════════════════════════════════════════════

# Courbes de Bézier utiles (reste épuré pour la lecture)
bezier = myBezier, 0.10, 0.9, 0.2, 1.05      # Douce ouverture
bezier = over_shoot, 0.05, 0.9, 0.1, 1.05    # Overshoot léger
bezier = smooth_in, 0.60, 0.0, 1.0, 1.0      # Entrée douce
bezier = smooth_out, 0.0, 0.0, 0.4, 1.0      # Sortie douce
bezier = smooth_step, 0.25, 0.1, 0.25, 1.0   # Transition step
bezier = bounce, 0.68, -0.55, 0.265, 1.55    # Effet rebond
bezier = elastic, 0.68, -0.6, 0.32, 1.6      # Effet élastique

animations {
    enabled = 1
    
    # Animations d'ouverture/fermeture des fenêtres (effets originaux et fluides)
    animation = windows, 1, 6, default
    animation = windowsOut, 1, 5, default
    animation = windowsMove, 1, 4, default
    
    # Animation de changement d'espace de travail (rapide et fluide)
    animation = workspaces, 1, 5, default
    animation = specialWorkspace, 1, 4, default
    
    # Animations des bordures et effets (transitions rapides)
    animation = border,      1, 3, default
    animation = borderangle, 1, 4, default
    animation = fade,        1, 4, default
    animation = fadeDim,     1, 5, default
    animation = layers, 1, 6, default
}

# ═══════════════════════════════════════════════════════════════════════════════
#  PARAMÈTRES GÉNÉRAUX ET OPTIMISATIONS
# ═══════════════════════════════════════════════════════════════════════════════
misc {
    # Désactive le fond d'écran par défaut de Hyprland
    force_default_wallpaper = 0
    
    # Masque le logo animé au démarrage
    disable_hyprland_logo = true
}

# ═══════════════════════════════════════════════════════════════════════════════
#  CONFIGURATION DU LAYOUT DWINDLE (TILING AUTOMATIQUE)
# ═══════════════════════════════════════════════════════════════════════════════
dwindle {
    pseudotile = true              # Permet le redimensionnement sans quitter le tiling
    preserve_split = true          # Conserve la division après fermeture d'une fenêtre
    smart_split = false            # Division manuelle (pas automatique)
    smart_resizing = true          # Redimensionnement intelligent
    force_split = 2                # Force la direction de division
}

# ═══════════════════════════════════════════════════════════════════════════════
# CONFIGURATION DU LAYOUT MASTER (FENÊTRE PRINCIPALE)
# ═══════════════════════════════════════════════════════════════════════════════
master {
    new_status = master            # Nouvelles fenêtres s'ouvrent comme master
    orientation = left             # Master à gauche, autres à droite
    mfact = 0.55                   # 55% de l'espace pour la fenêtre master
}

# ═══════════════════════════════════════════════════════════════════════════════
# CONFIGURATION GÉNÉRALE (GAPS, BORDURES, COULEURS)
# ═══════════════════════════════════════════════════════════════════════════════

# Couleurs générées automatiquement par pywal
# Généré le dim. 30 nov. 2025 16:11:38 CET
# Wallpaper source: /home/sabi/Images/wallpapers/RDT_20251128_214723353449535380513840.jpg

general {
    gaps_in = 5
    gaps_out = 10
    border_size = 3
    
    # Dégradé simple : côté primaire vers côté secondaire
    col.active_border = rgba(36,50,91,1.0) rgba(34,56,104,1.0) 45deg
    col.inactive_border = rgba(11,9,21,0.8)
    
    resize_on_border = false
    allow_tearing = false
    layout = dwindle
}
