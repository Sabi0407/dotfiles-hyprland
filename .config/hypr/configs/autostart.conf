################################################################################
###                      APPLICATIONS AU DÉMARRAGE                          ###
################################################################################
# Configuration des applications et services lancés automatiquement
# Documentation : https://wiki.hyprland.org/Configuring/Keywords/#executing
################################################################################

# ═══════════════════════════════════════════════════════════════════════════════
# INTERFACE UTILISATEUR ET THÈMES
# ═══════════════════════════════════════════════════════════════════════════════

# Lance Waybar directement (simple et rapide)
exec-once = waybar

# Démarre le centre de notifications SwayNC
exec-once = GDK_BACKEND=wayland swaync -s ~/.config/swaync/style.css -c ~/.config/swaync/config.json &


# ═══════════════════════════════════════════════════════════════════════════════
# FOND D'ÉCRAN ET APPARENCE
# ═══════════════════════════════════════════════════════════════════════════════

# Restaure le dernier wallpaper choisi au démarrage (en arrière-plan)
exec-once = ~/.config/Scripts/startup_wallpaper.sh &

# Configure le curseur système selon la dernière valeur enregistrée
exec-once = ~/.config/Scripts/apply-current-cursor.sh

# ═══════════════════════════════════════════════════════════════════════════════
#  SERVICES SYSTÈME ET SÉCURITÉ
# ═══════════════════════════════════════════════════════════════════════════════

# Gestionnaire d'économie d'énergie et verrouillage automatique
exec-once = hypridle &

# Agent d'authentification pour les privilèges administrateur
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

# Service de miniatures pour Thunar (à décommenter après installation de tumbler)
# exec-once = tumbler -s

# Propagation des thèmes GTK vers les applications
exec-once = xsettingsd

# ═══════════════════════════════════════════════════════════════════════════════
# CONNECTIVITÉ ET RÉSEAU
# ═══════════════════════════════════════════════════════════════════════════════

# Applet de gestion réseau dans la barre système
exec-once = nm-applet --indicator &

# ═══════════════════════════════════════════════════════════════════════════════
# UTILITAIRES DE CAPTURE D'ÉCRAN
# ═══════════════════════════════════════════════════════════════════════════════

# Flameshot pour captures d'écran avancées (lancement silencieux)
exec-once = flameshot --no-message &

# Gestionnaire de presse-papiers avec historique
exec-once = wl-paste --type text --watch cliphist store

# ═══════════════════════════════════════════════════════════════════════════════
# SURVEILLANCE SYSTÈME
# ═══════════════════════════════════════════════════════════════════════════════

# Script de notification de batterie
exec-once = ~/.config/Scripts/battery_notify.sh &

# ═══════════════════════════════════════════════════════════════════════════════
# PLUGINS ET EXTENSIONS
# ═══════════════════════════════════════════════════════════════════════════════

# Plugins désactivés au démarrage pour stabilité
# exec-once = ~/.config/Scripts/load_hypr_plugins.sh

# ═══════════════════════════════════════════════════════════════════════════════
# APPLICATIONS SPÉCIFIQUES
# ═══════════════════════════════════════════════════════════════════════════════

# Lance Packet Tracer avec la configuration XCB
exec-once = env QT_QPA_PLATFORM=wayland,xcb packettracer
