################################################################################
###                         RACCOURCIS CLAVIER                             ###
################################################################################
# Configuration complète des raccourcis clavier et contrôles
# Documentation : https://wiki.hyprland.org/Configuring/Binds/
################################################################################

## 1. Variables de base
$mainMod = SUPER                    # Mod principal (touche Super)

## 2. Lancement & utilitaires
### 2.1 Applications principales
bind = $mainMod, RETURN, exec, $terminal        # Terminal
bind = $mainMod, E, exec, $fileManager          # Gestionnaire de fichiers
bind = $mainMod, TAB, exec, tofi-drun           # Lanceur d'applications Tofi

### 2.2 Navigateurs
bind = $mainMod, B, exec, firefox               # Firefox
bind = $mainMod SHIFT, B, exec, firefox --private-window  # Firefox privé
bind = $mainMod CTRL, B, exec, brave-browser --incognito  # Brave privé

### 2.3 Outils multimédia & productivité
bind = $mainMod, O, exec, obsidian /home/sabi/Documents/Cours/        # Vault Cours
bind = $mainMod ALT, O, exec, obsidian /home/sabi/Documents/Perso/    # Vault Perso
bind = $mainMod, M, exec, ~/.config/Scripts/mpv-file-selector.sh  # Sélecteur MPV
bind = $mainMod, K, exec, kooha                 # Capture écran vidéo Kooha
bind = $mainMod, Z, exec, zathura               # Lecteur PDF Zathura

### 2.4 Scripts presse-papiers
bind = $mainMod CTRL, V, exec, ~/.config/Scripts/clipboard-manager.sh  # Outil presse-papiers
bind = $mainMod ALT, Delete, exec, rm ~/.cache/cliphist/db && notify-send "Presse-papiers" "Historique supprimé" -i edit-copy -t 2000

## 3. Gestion des fenêtres
### 3.1 Commandes générales
bind = $mainMod, X, killactive                  # Fermer la fenêtre active
bind = $mainMod, V, togglefloating              # Basculer flottant/tiling
bind = $mainMod, F, fullscreen, 3               # Plein écran préférentiel
bind = $mainMod, D, exec, ~/.config/Scripts/toggle_show_desktop.sh  # Masquer/Afficher les fenêtres

### 3.2 Gestion des groupes de fenêtres (onglets)
bind = $mainMod, G, togglegroup                          # Créer/Dissoudre un groupe
bind = $mainMod SHIFT, G, lockactivegroup, toggle        # Verrouiller/Déverrouiller le groupe
bind = $mainMod CTRL, G, moveoutofgroup                  # Sortir la fenêtre du groupe
bind = $mainMod ALT, G, moveintogroup, r                 # Ajouter la fenêtre au groupe à droite

### 3.2.1 Navigation dans les groupes (onglets style Vim)
bind = ALT, H, changegroupactive, b                      # Onglet précédent 
bind = ALT, L, changegroupactive, f                      # Onglet suivant 
bind = $mainMod, apostrophe, changegroupactive           # Alterner entre onglets

### 3.2.2 Layouts et disposition
bind = $mainMod, P, pseudo                               # Pseudo-tiling
bind = $mainMod, J, togglesplit                          # Basculer split vertical/horizontal
bind = $mainMod ALT, RETURN, layoutmsg, equalize         # Égaliser la disposition
bind = $mainMod, Y, exec, ~/.config/Scripts/toggle-layout.sh  # Dwindle ↔ Master

### 3.3 Navigation & déplacement
bind = $mainMod, left, movefocus, l             # Focus gauche
bind = $mainMod, right, movefocus, r            # Focus droite
bind = $mainMod, up, movefocus, u               # Focus haut
bind = $mainMod, down, movefocus, d             # Focus bas
bind = $mainMod SHIFT, left, movewindoworgroup, l
bind = $mainMod SHIFT, right, movewindoworgroup, r
bind = $mainMod SHIFT, up, movewindoworgroup, u
bind = $mainMod SHIFT, down, movewindoworgroup, d
bind = $mainMod ALT, left, movewindow, l
bind = $mainMod ALT, right, movewindow, r
bind = $mainMod ALT, up, movewindow, u
bind = $mainMod ALT, down, movewindow, d

### 3.4 Redimensionnement
bind = $mainMod CTRL, Left, resizeactive, -50 0
bind = $mainMod CTRL, Right, resizeactive, 50 0
bind = $mainMod CTRL, Up, resizeactive, 0 -50
bind = $mainMod CTRL, Down, resizeactive, 0 50
binde = $mainMod, mouse_down, resizeactive, 0 10
binde = $mainMod, mouse_up, resizeactive, 0 -10
binde = ALT, mouse_down, resizeactive, 10 0
binde = ALT, mouse_up, resizeactive, -10 0

### 3.5 Contrôles à la souris
bindm = $mainMod, mouse:272, movewindow         # Déplacement souris (clic gauche)
bindm = $mainMod, mouse:273, resizewindow       # Redimensionnement souris (clic droit)

## 4. Workspaces & scratchpad
### 4.1 Scratchpad
bind = $mainMod, I, togglespecialworkspace, special
bind = $mainMod SHIFT, I, movetoworkspace, special

### 4.2 Navigation instantanée
bind = $mainMod, code:10, workspace, 1 
bind = $mainMod, code:11, workspace, 2 
bind = $mainMod, code:12, workspace, 3 
bind = $mainMod, code:13, workspace, 4 
bind = $mainMod, code:14, workspace, 5 
bind = $mainMod, code:15, workspace, 6 
bind = $mainMod, code:16, workspace, 7 
bind = $mainMod, code:17, workspace, 8 
bind = $mainMod, code:18, workspace, 9 
bind = $mainMod, code:19, workspace, 10 

### 4.3 Déplacement de fenêtres
bind = $mainMod SHIFT, code:10, movetoworkspace, 1
bind = $mainMod SHIFT, code:11, movetoworkspace, 2
bind = $mainMod SHIFT, code:12, movetoworkspace, 3
bind = $mainMod SHIFT, code:13, movetoworkspace, 4
bind = $mainMod SHIFT, code:14, movetoworkspace, 5
bind = $mainMod SHIFT, code:15, movetoworkspace, 6
bind = $mainMod SHIFT, code:16, movetoworkspace, 7
bind = $mainMod SHIFT, code:17, movetoworkspace, 8
bind = $mainMod SHIFT, code:18, movetoworkspace, 9
bind = $mainMod SHIFT, code:19, movetoworkspace, 10

### 4.4 Défilement des workspaces
bind = $mainMod SHIFT, mouse_down, workspace, e+1
bind = $mainMod SHIFT, mouse_up, workspace, e-1

## 5. Session & scripts système
bind = $mainMod SHIFT, L, exit                 # Quitter Hyprland
bind = SUPER, L, exec, ~/.config/Scripts/auto-backlight.sh lock; ~/.config/Scripts/hyprlock-coverart-daemon.sh & hyprlock  # Verrouillage
bind = $mainMod CTRL, R, exec, ~/.config/Scripts/reload-all.sh             # Recharger Hypr/Waybar/SwayNC
bind = $mainMod, N, exec, swaync-client -t                                # Centre de notifications
bind = $mainMod SHIFT, S, exec, ~/.config/Scripts/change-catppuccin-theme.sh --quick  # Reprendre thème
bind = $mainMod CTRL, S, exec, ~/.config/Scripts/change-catppuccin-theme.sh          # Changer thème
bind = $mainMod ALT, S, exec, bash -lc "~/.config/Scripts/pywal-spicetify.sh && spicetify apply --no-restart"  # Forcer thème Spicetify
bind = $mainMod CTRL SHIFT, R, exec, systemctl reboot                     # Reboot
bind = $mainMod CTRL SHIFT, O, exec, systemctl poweroff                   # Poweroff

## 6. Captures & enregistrements
bind = $mainMod, T, exec, grim -g "$(slurp)" - | wl-copy                  # Capture zone → presse-papiers
bind = $mainMod, S, exec, flameshot gui                                   # Flameshot GUI
bind = $mainMod SHIFT, T, exec, ~/.config/Scripts/capture-note.sh         # Capture vers notes
bind = $mainMod, F11, exec, ~/.config/Scripts/wf-recorder-wrapper.sh full --audio  # Enregistrement écran complet
bind = $mainMod, F12, exec, ~/.config/Scripts/wf-recorder-wrapper.sh zone --audio  # Enregistrement zone

## 7. Apparence & fonds d'écran
bind = $mainMod, W, exec, ~/.config/Scripts/random_wallpapers.sh          # Wallpaper aléatoire
bind = $mainMod ALT, W, exec, ~/.config/Scripts/waypaper_wallpaper.sh     # Waypaper GUI

## 8. Audio, luminosité & médias
### 8.1 Touches multimédia standard
bindel = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bindel = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = , XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindel = , XF86MonBrightnessUp, exec, brightnessctl -e4 -n2 set 5%+
bindel = , XF86MonBrightnessDown, exec, brightnessctl -e4 -n2 set 5%-

### 8.2 Raccourcis fonction (désactivés - nécessitent Fn)
# Les touches F1-F12 nécessitent maintenant la touche Fn pour les fonctions multimédias
# Utilisez Fn+F2 pour baisser le volume, Fn+F3 pour augmenter, etc.
### 8.3 Variantes forcées (Super + Fx)
bindel = $mainMod, F1, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = $mainMod, F2, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = $mainMod, F3, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bindel = $mainMod, F5, exec, brightnessctl -e4 -n2 set 5%-
bindel = $mainMod, F6, exec, brightnessctl -e4 -n2 set 5%+

### 8.4 Contrôle lecteur
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous

### 8.5 Rétroéclairage & profils
bindel = , XF86KbdBrightnessUp, exec, ~/.config/Scripts/auto-backlight.sh up
bindel = , XF86KbdBrightnessDown, exec, ~/.config/Scripts/auto-backlight.sh down
bind = $mainMod, SPACE, exec, ~/.config/Scripts/auto-backlight.sh toggle
bind = $mainMod SHIFT, P, exec, ~/.config/Scripts/power-profile-selector.sh

## 9. Zoom curseur
### 9.1 Incrémenter / décrémenter
binde = $mainMod, equal, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor | awk '/^float.*/ {print $2 * 1.1}')
binde = $mainMod, KP_ADD, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor | awk '/^float.*/ {print $2 * 1.1}')
binde = $mainMod, minus, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor | awk '/^float.*/ {print $2 * 0.9}')
binde = $mainMod, KP_SUBTRACT, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor | awk '/^float.*/ {print $2 * 0.9}')

### 9.2 Molette
bind = $mainMod CTRL ALT, mouse_down, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor | awk '/^float.*/ {print $2 * 1.1}')
bind = $mainMod CTRL ALT, mouse_up, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor | awk '/^float.*/ {print $2 * 0.9}')
bind = CTRL, mouse_down, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor | awk '/^float.*/ {print $2 * 1.1}')
bind = CTRL, mouse_up, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor | awk '/^float.*/ {print $2 * 0.9}')

### 9.3 Réinitialisation
bind = $mainMod SHIFT, mouse_up, exec, hyprctl -q keyword cursor:zoom_factor 1
bind = $mainMod SHIFT, mouse_down, exec, hyprctl -q keyword cursor:zoom_factor 1
bind = $mainMod SHIFT, minus, exec, hyprctl -q keyword cursor:zoom_factor 1
bind = $mainMod SHIFT, KP_SUBTRACT, exec, hyprctl -q keyword cursor:zoom_factor 1
bind = $mainMod SHIFT, 0, exec, hyprctl -q keyword cursor:zoom_factor 1
bind = $mainMod SHIFT, KP_0, exec, hyprctl -q keyword cursor:zoom_factor 1
