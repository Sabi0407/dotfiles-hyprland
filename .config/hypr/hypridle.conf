general {
    lock_cmd         = pidof hyprlock || /usr/bin/hyprlock
    before_sleep_cmd = /usr/bin/loginctl lock-session
    after_sleep_cmd  = /usr/bin/hyprctl dispatch dpms on
}

listener {
    timeout    = 300
    # Verrouille après 5 minutes
    on-timeout = sh -c "/usr/bin/hyprlock &"
    on-resume  = sh -c "/usr/bin/hyprctl dispatch dpms on &"
}

listener {
    timeout    = 120
    # Éteint le rétroéclairage clavier après 2 minutes d'inactivité
    on-timeout = ~/.config/Scripts/auto-backlight.sh off
    on-resume  = ~/.config/Scripts/auto-backlight.sh on
}

listener {
    timeout    = 330
    # Éteint l'écran 30 secondes après le verrouillage
    on-timeout = sh -c "/usr/bin/hyprctl dispatch dpms off &"
    on-resume  = sh -c "/usr/bin/hyprctl dispatch dpms on &"
}
